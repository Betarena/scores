root: true

env:
  es2017: true
  node: true
  browser: true

extends:
  - eslint:recommended
  - plugin:svelte/recommended
  - plugin:@typescript-eslint/strict
  # â•­â”€â”€â”€â”€â”€
  # â”‚ NOTE:
  # â”‚ âž¤ (ðŸ‘‡) below :: does not work with svelte.
  # â•°â”€â”€â”€â”€â”€
  # - plugin:import/errors
  # - plugin:import/warnings
  # - plugin:import/typescript
  # â•­â”€â”€â”€â”€â”€
  # â”‚ NOTE:
  # â”‚ âž¤ (ðŸ‘‡) :|: https://www.npmjs.com/package/eslint-config-google
  # â•°â”€â”€â”€â”€â”€
  # - google
  # - prettier
  # â•­â”€â”€â”€â”€â”€
  # â”‚ NOTE:
  # â”‚ âž¤ (ðŸ‘‡) already contained within ../strict.
  # â•°â”€â”€â”€â”€â”€
  # - plugin:@typescript-eslint/recommended
  # - plugin:@typescript-eslint/stylistic

parser:
  "@typescript-eslint/parser"

parserOptions:
  project:
    - tsconfig.json
  sourceType: module
  ecmaVersion: 2020
  extraFileExtensions:
    - '.svelte'
    - '.ts'

overrides:
  - files:
    - '*.svelte'
    parser: 'svelte-eslint-parser'
    parserOptions:
      parser: '@typescript-eslint/parser'

globals:
  # ðŸ”— read-more :|: https://github.com/Chatie/eslint-config/issues/45#issuecomment-885507652
  "NodeJS": true

ignorePatterns:
  - .DS_Store
  - node_modules
  - /build
  - /.svelte-kit
  - /package
  - .env
  - .env.*
  - '!.env.example'
  - pnpm-lock.yaml
  - package-lock.json
  - yarn.lock
  # â•­â”€â”€â”€â”€â”€
  # â”‚ NOTE: |:| gradual eslint introduction in project.
  # â•°â”€â”€â”€â”€â”€
  # - src/lib/store
  # - src/routes
  - src/lib/geo-js
  - src/lib/graphql
  - src/lib/redis
  # - src/lib/store
  - src/routes/api
  - src/lib/types
  - src/params
  - src/service-worker.ts

plugins:
  - "@typescript-eslint"
  - svelte
  # â•­â”€â”€â”€â”€â”€
  # â”‚ WARNING:
  # â”‚ âž¤ (ðŸ‘‡) all-below :: does not work with svelte.
  # â•°â”€â”€â”€â”€â”€
  # - import

# â•­â”€â”€â”€â”€â”€
# â”‚ IMPORTANT
# â”‚ âž¤ Main 'defacto' configuration, do not remove and/or alter heavily.
# â”‚ âž¤ ðŸ”— read-more :|: https://eslint.org/docs/latest/rules/
# â•°â”€â”€â”€â”€â”€
rules:

  # â•­â”€â”€â”€â”€â”€
  # â”‚ NOTE:
  # â”‚ âž¤ (ðŸ‘‡) for svelte/sveltekit project only!
  # â•°â”€â”€â”€â”€â”€
  'svelte/valid-compile': 0
  'svelte/no-at-html-tags': 0

  # â•­â”€â”€â”€â”€â”€
  # â”‚ NOTE:
  # â”‚ âž¤ has been depreceted.
  # â•°â”€â”€â”€â”€â”€
  # "valid-jsdoc": [..]
  no-unexpected-multiline: 0
  import/no-unresolved: 0

  # â•­â”€â”€â”€â”€â”€
  # â”‚ NOTE:
  # â”‚ âž¤ Ideal, but doesn't work as expected :: [ "error", "always", {  "allowNewlines": true } ]
  # â”‚ âž¤ as it requires a space after function declaration, 'always'.
  # â•°â”€â”€â”€â”€â”€
  func-call-spacing: 0

  '@typescript-eslint/no-inferrable-types': 0
  '@typescript-eslint/prefer-for-of': error
  '@typescript-eslint/no-non-null-asserted-nullish-coalescing': error

  no-console:
    - error
  curly:
    - error
    - multi
    - consistent
  max-len:
    - error
    - code: 250
  quotes:
    - error
    - single
  object-curly-spacing:
    - error
    - always
  brace-style:
    - error
    - allman
    - allowSingleLine: true
  indent:
    - error
    - 2
    - SwitchCase: 1
  space-before-function-paren:
    - error
    - anonymous: always
      named: always
      asyncArrow: always
  padded-blocks:
    - error
    - blocks: never
  comma-dangle:
    - error
    - only-multiline
  comma-style:
    - error
    - last
  operator-linebreak:
    - error
    - before
  new-cap:
    - error
    - capIsNewExceptionPattern: "^express\\.."
  camelcase:
    - error
    - ignoreImports: true
      ignoreDestructuring: true
      properties: never
      allow:
        - "^if_M_"
        - "^B_H_"
        - "^icon_"
  eol-last:
    - error
    - always
  arrow-body-style:
    - error
    - always
  one-var:
    - error
    - initialized: "consecutive"
  no-extra-semi: 0
  no-var:
    - error
