<!-- Based on template :: Svelte-Boilerplate.v7.Widget.svelte -->

<!--
‚ñì‚ñì ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
‚ñì‚ñì COMPONENT JS (w/ TS)                                                                 ‚ñì‚ñì
‚ñì‚ñì NOTE:                                                                                ‚ñì‚ñì
‚ñì‚ñì access custom Betarena Scores JS VScode Snippets by typing 'script...'               ‚ñì‚ñì
‚ñì‚ñì ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
-->

<script lang="ts">

  // #region ‚û§ üì¶ Package Imports

  // ‚ñì‚ñì ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
  // ‚ñì‚ñì NOTE:                                                           ‚ñì‚ñì
  // ‚ñì‚ñì Please add inside 'this' region the 'imports' that are required ‚ñì‚ñì
  // ‚ñì‚ñì by 'this' .svelte file is ran.                                  ‚ñì‚ñì
  // ‚ñì‚ñì IMPORTANT                                                       ‚ñì‚ñì
  // ‚ñì‚ñì Please, structure the imports as follows:                       ‚ñì‚ñì
  // ‚ñì‚ñì 1. svelte/sveltekit imports                                     ‚ñì‚ñì
  // ‚ñì‚ñì 2. project-internal files and logic                             ‚ñì‚ñì
  // ‚ñì‚ñì 3. component import(s)                                          ‚ñì‚ñì
  // ‚ñì‚ñì 4. assets import(s)                                             ‚ñì‚ñì
  // ‚ñì‚ñì 5. type(s) imports(s)                                           ‚ñì‚ñì
  // ‚ñì‚ñì ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì

  import { browser } from '$app/environment';
  import { page } from '$app/stores';
  import { onMount } from 'svelte';

	import { get } from '$lib/api/utils.js';
	import sessionStore from '$lib/store/session.js';
	import userBetarenaSettings from '$lib/store/user-settings.js';
	import { dlog } from '$lib/utils/debug.js';
	import { langPrefix, toDecimalFix, viewport_change } from '$lib/utils/platform-functions.js';
	import { translationObject } from '$lib/utils/translation.js';
	import { Betarena_User_Class } from '@betarena/scores-lib/dist/classes/class.betarena-user.js';
	import { Competition } from '@betarena/scores-lib/dist/classes/class.competition.js';

	import WidgetTitle from '$lib/components/Widget-Title.svelte';
	import CompCountdownStatus from '$lib/components/shared/COMP-Countdown-+-Status.svelte';
	import CompetitionPoolSelection from './Competition-Pool-Selection.svelte';

  import icon_draw from './assets/icon-grey-draw.svg';
  import icon_probability_green from './assets/icon-probability-green.svg';
  import icon_probability_red from './assets/icon-probability-red.svg';
  import icon_profile_avatar from './assets/icon-profile-avatar.svg';
  import icon_loose from './assets/icon-thumbs-down-red.svg';
  import icon_win from './assets/icon-thumbs-up-green.svg';

	import type { BetarenaUser } from '@betarena/scores-lib/types/_FIREBASE_.js';
	import type { B_H_COMP_DATA } from '@betarena/scores-lib/types/_HASURA_.js';
	import type { FIRE_LNNS } from '@betarena/scores-lib/types/firebase.js';
	import type { LS2_C_Fixture } from '@betarena/scores-lib/types/livescores-v2.js';
	import type { B_SAP_D3 } from '@betarena/scores-lib/types/seo-pages.js';
	import type { B_FIX_COMP_D, B_FIX_COMP_T } from '@betarena/scores-lib/types/types.fixture.competition.js';

  // #endregion ‚û§ üì¶ Package Imports

  // #region ‚û§ üìå VARIABLES

  // ‚ñì‚ñì ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
  // ‚ñì‚ñì NOTE:                                                           ‚ñì‚ñì
  // ‚ñì‚ñì Please add inside 'this' region the 'variables' that are to be  ‚ñì‚ñì
  // ‚ñì‚ñì and are expected to be used by 'this' .svelte file / component. ‚ñì‚ñì
  // ‚ñì‚ñì IMPORTANT                                                       ‚ñì‚ñì
  // ‚ñì‚ñì Please, structure the imports as follows:                       ‚ñì‚ñì
  // ‚ñì‚ñì 1. export const / let [..]                                      ‚ñì‚ñì
  // ‚ñì‚ñì 2. const [..]                                                   ‚ñì‚ñì
  // ‚ñì‚ñì 3. let [..]                                                     ‚ñì‚ñì
  // ‚ñì‚ñì 4. $: [..]                                                      ‚ñì‚ñì
  // ‚ñì‚ñì ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì

  export let
    /** @augments B_FIX_COMP_D */
    WIDGET_DATA: B_FIX_COMP_D
  ;

  const
    /** @description üì± MOBILE */
    VIEWPORT_MOBILE_INIT = 581,
    /** @description üíª TABLET */
    VIEWPORT_TABLET_INIT = 820,
    /** @description üìå `this` component **main** `id` and `data-testid` prefix. */
    CNAME = 'fixture‚Æïcompetition‚Æïw‚Æïmain'
  ;

  let
    /** @augments B_FIX_COMP_T */
    WIDGET_T_DATA: B_FIX_COMP_T,
    /** @augments B_SAP_D3 - teams */
    B_SAP_D3_TEAM_M: B_SAP_D3,
    /** @augments B_SAP_D3 - competitions */
    B_SAP_D3_CP_M: B_SAP_D3,
    /** @description TODO: DOC: */
    isViewMobile: boolean = true,
    /** @description TODO: DOC: */
    isViewTablet: boolean = true,
    /** @description competition highlights - target widget prediction type icon */
    icon_prediction: string,
    /** @description competition highlights - target widget prediction type */
    prediction_type: 'win' | 'loose' | 'draw',
    /** @description TODO: DOC: */
    prediction_side: 'home' | 'away',
    /** @description TODO: DOC: */
    participantsMap: Map < string, BetarenaUser > = new Map(),
    /** @description TODO: DOC: */
    competitionWasLive: boolean = false,
    /** @description TODO: DOC: */
    counterTotalPrize: number = 0,
    /** @description TODO: DOC: */
    counterTotalAnimated: boolean = true,
    /** @description mirror value for simplicity of probability */
    mirrorProbability: number
  ;

  $: WIDGET_T_DATA = $page.data?.B_FIX_COMP_T;
	$: B_SAP_D3_TEAM_M = $page.data?.B_SAP_D3_TEAM_M;
	$: B_SAP_D3_CP_M = $page.data?.B_SAP_D3_CP_M;
  $: participantNumber = WIDGET_DATA?.competition?.data?.participants?.yes?.length + WIDGET_DATA?.competition?.data?.participants?.no?.length

  // ‚ñì‚ñì IMPORTANT
  // ‚ñì‚ñì Reactivity deep-value listen(s).
  $: competitionMapDataChng = JSON.stringify([...($sessionStore?.competitions_map?.entries() ?? [])]);
  $: livescoreNowScoreboardChng = JSON.stringify([...($sessionStore?.livescore_now_scoreboard?.entries() ?? [])]);

  // #endregion ‚û§ üìå VARIABLES

  // #region ‚û§ üõ†Ô∏è METHODS

  // ‚ñì‚ñì ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
  // ‚ñì‚ñì NOTE:                                                           ‚ñì‚ñì
  // ‚ñì‚ñì Please add inside 'this' region the 'methods' that are to be    ‚ñì‚ñì
  // ‚ñì‚ñì and are expected to be used by 'this' .svelte file / component. ‚ñì‚ñì
  // ‚ñì‚ñì IMPORTANT                                                       ‚ñì‚ñì
  // ‚ñì‚ñì Please, structure the imports as follows:                       ‚ñì‚ñì
  // ‚ñì‚ñì 1. function (..)                                                ‚ñì‚ñì
  // ‚ñì‚ñì 2. async function (..)                                          ‚ñì‚ñì
  // ‚ñì‚ñì ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì

  /**
   * @author
   *  @migbash
   * @summary
   *  üîπ HELPER | IMPORTANT
   * @description
   *  üìå Triggers viewport changes.
   * @returns { void }
   */
  function resizeAction
  (
  ): void
  {
    [
      isViewTablet,
      isViewMobile
    ] =	viewport_change
    (
      VIEWPORT_TABLET_INIT,
      VIEWPORT_MOBILE_INIT
    );
  }

  /**
   * @author
   *  @migbash
   * @summary
   *  üîπ HELPER | IMPORTANT
   * @description
   *  üìå Local component wrapper
   *  (‚ö°Ô∏è) `window` (resize-change) listener.
   * @returns { void }
   */
  function addEventListeners
  (
  ): void
  {
    // ‚ñì‚ñì NOTE:
    // ‚ñì‚ñì listen to 'resize'.
    window.addEventListener
    (
      'resize',
      function ()
      {
        resizeAction();
      }
    );
  }

  /**
   * @author
   *  @migbash
   * @summary
   *  üîπ HELPER | IMPORTANT
   * @description
   *  üìå Fetch / update participants data for `this` competition (fixture) data.
   * @returns { void }
   */
  async function getParticipantData
  (
  ): Promise < void >
  {
    // ‚ñì‚ñì IMPORTANT
    if (!browser) return;

    const participantUid: string[] = new Competition().extractParticipantUids
    (
      WIDGET_DATA?.competition
    );

    const newUids: string[] = [];

    for (const uid of participantUid)
    {
      // ‚ñì‚ñì CHECK
      // ‚ñì‚ñì for missing 'uid' from participant `map`.
      const if_M_0: boolean =
        participantsMap?.has(uid)
      ;
      if (if_M_0) continue;
      newUids.push(uid);
    }

    // ‚ñì‚ñì CHECK
    // ‚ñì‚ñì for wether necessary to make new request for participant data.
    const if_M_0: boolean =
      newUids?.length == 0
    ;
    if (if_M_0) return;

    const participantPublicData = await new Betarena_User_Class().obtainPublicInformationTargetUsers
    (
      newUids
    ) as (BetarenaUser | undefined)[];

    const newParticipantsMap: Map < string, BetarenaUser > = new Betarena_User_Class().convertToMap
    (
      participantPublicData
    );

    // ‚ñì‚ñì IMPORTANT
    participantsMap = new Map([...participantsMap, ...newParticipantsMap]);

    return;
  }

  /**
   * @author
   *  @migbash
   * @summary
   *  üîπ HELPER | IMPORTANT
   * @description
   *  üìå Injects / Hydrates target competition (fixture) data with 'LIVE' (fresh) livescores data.
   *  (‚ö°Ô∏è) handles cases for 'no longer LIVE' orphan data.
   * @returns { void }
   */
  async function injectLivescoresData
  (
  ): Promise < void >
  {

    if (!browser) return;

    const liveFixturesMap: Map < number, FIRE_LNNS > = $sessionStore?.livescore_now_scoreboard;

    const competitionFixtureId: number = WIDGET_DATA?.competition?.fixture_id;

    // ‚ñì‚ñì CHECK
    // ‚ñì‚ñì for 'orphan' (no longer live) fixture data, but present in local live-map instance.
    // ‚ñì‚ñì NOTE:
    // ‚ñì‚ñì cause for (exit).
    const if_M_0: boolean =
      competitionWasLive
      && !liveFixturesMap.has(competitionFixtureId)
    ;
    if (if_M_0)
    {

      const data_0 = await get
      (
        `/api/data/home/livescores-v2?fixtureIds=${competitionFixtureId?.toString()}`,
        null,
        true,
        true
      ) as unknown;

      const _fixtureMap = new Map
      (
        Object.entries(data_0)
      ) as unknown as Map <string, LS2_C_Fixture>;

      const newOrphanData: LS2_C_Fixture = _fixtureMap.get(competitionFixtureId?.toString())

      WIDGET_DATA.fixture_detailed.teams =
      {
        away:
        {
          score: newOrphanData?.teams?.away?.score,
        },
        home:
        {
          score: newOrphanData?.teams?.home?.score,
        }
      }

      // ‚ñì‚ñì IMPORTANT
      WIDGET_DATA = WIDGET_DATA;

      competitionWasLive = false;

      return;
    }

    // ‚ñì‚ñì CHECK
    // ‚ñì‚ñì for valid competitions map data.
    const if_M_1: boolean =
      !liveFixturesMap?.has(competitionFixtureId)
    ;
    if (if_M_1) return;

    competitionWasLive = true;

    // ‚ñì‚ñì IMPORTANT
    (WIDGET_DATA.fixture_detailed ??= { })

    WIDGET_DATA.fixture_detailed.teams =
    {
      away:
      {
        score: liveFixturesMap?.get(competitionFixtureId)?.teams?.find(x => x?.type == "away")?.score,
      },
      home:
      {
        score: liveFixturesMap?.get(competitionFixtureId)?.teams?.find(x => x?.type == "home")?.score,
      }
    }

    // ‚ñì‚ñì IMPORTANT
    WIDGET_DATA = WIDGET_DATA;

    return;

  }

  /**
   * @author
   *  @migbash
   * @summary
   *  üîπ HELPER | IMPORTANT
   * @description
   *  üìå Injects / Hydrates `this` competition (fixture) data with `LIVE` (fresh) competitions data.
   * @returns { void }
   */
  function injectLiveData
  (
  ): void
  {
    const competitionMap: Map < number, B_H_COMP_DATA > = $sessionStore?.competitions_map;

    // ‚ñì‚ñì CHECK
    // ‚ñì‚ñì for valid competitions map data.
    const if_M_0: boolean =
      competitionMap?.size == 0
      && !competitionMap?.has(WIDGET_DATA?.competition?.id)
    ;
    if (if_M_0) return;

    WIDGET_DATA.competition = competitionMap?.get(WIDGET_DATA?.competition?.id);

    getParticipantData();

    // ‚ñì‚ñì IMPORTANT
    WIDGET_DATA = WIDGET_DATA;

    return;
  }

  /**
   * @author
   *  @migbash
   * @summary
   *  üîπ HELPER | IMPORTANT
   * @description
   *  üìå Correctly determine prediction for `this` competition (fixture).
   * @returns { void }
   */
  function determinePrediction
  (
  ): void
  {
    const if_M_OF_1: boolean =
      (WIDGET_DATA?.competition?.data?.prediction == '1'
      && WIDGET_DATA?.competition?.data?.target_team_id == WIDGET_DATA?.fixture?.localteam_id_j)
      ||
      (WIDGET_DATA?.competition?.data?.prediction == '2'
      && WIDGET_DATA?.competition?.data?.target_team_id == WIDGET_DATA?.fixture?.visitorteam_id_j)
    ;
    if (if_M_OF_1)
    {
      icon_prediction = icon_win;
      prediction_type = 'win';
      prediction_side =
        WIDGET_DATA?.competition?.data?.target_team_id == WIDGET_DATA?.fixture?.localteam_id_j
          ? 'home'
          : 'away'
      ;
    }
    else if (WIDGET_DATA?.competition?.data?.prediction == 'x')
    {
      icon_prediction = icon_draw;
      prediction_type = 'draw';
    }
    else
    {
      icon_prediction = icon_loose;
      prediction_type = 'loose';
      prediction_side =
        WIDGET_DATA?.competition?.data?.target_team_id == WIDGET_DATA?.fixture?.localteam_id_j
          ? 'home'
          : 'away'
      ;
    };
  }

  /**
   * @author
   *  @migbash
   * @summary
   *  üîπ HELPER | IMPORTANT
   * @description
   *  üìå A countdown animation for `total prize` value.
   * @returns { void }
   */
  function countAnimation
  (
  ): void
  {
    let counts: NodeJS.Timeout = setInterval(updated);
    let totalCount: number = WIDGET_DATA?.competition?.data?.total_prize - WIDGET_DATA?.competition?.data?.betarena_commission;

    function updated(): void
    {
      ++counterTotalPrize;
      if (counterTotalPrize >= totalCount)
      {
        clearInterval(counts);
        counterTotalAnimated = false;
      }
    }
  }

  /**
   * @description
   */
  function mirrorValues
  (
  ): void
  {
    if (WIDGET_DATA?.competition?.data?.prediction == '1')
      mirrorProbability = WIDGET_DATA?.fixture?.probabilities?.home;
    else if (WIDGET_DATA?.competition?.data?.prediction == '2')
      mirrorProbability = WIDGET_DATA?.fixture?.probabilities?.away;
    else
      mirrorProbability = WIDGET_DATA?.fixture?.probabilities?.draw;
      toDecimalFix(WIDGET_DATA?.fixture?.probabilities?.draw, 0);
    ;
  }

  // #endregion ‚û§ üõ†Ô∏è METHODS

  // #region ‚û§ üî• REACTIVIY [SVELTE]

  // ‚ñì‚ñì ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
  // ‚ñì‚ñì NOTE:                                                           ‚ñì‚ñì
  // ‚ñì‚ñì Please add inside 'this' region the 'logic' that should run     ‚ñì‚ñì
  // ‚ñì‚ñì immediately and/or reactively for 'this' .svelte file is ran.   ‚ñì‚ñì
  // ‚ñì‚ñì ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì

  /**
   * @summary
   * üî• REACTIVITY
   * WARNING:
   * can go out of control
   * @description
   *  üìå Listens to changes in competition data.
   * WARNING:
   * triggered by changes in:
   * - `competitionMapDataChng` - **kicker** (via deepListen)
   */
  $: if (competitionMapDataChng)
  {
    // ‚ñì‚ñì [üêû]
    dlog
    (
      `üöè checkpoint [R] ‚û§ competitionMapDataChng`,
      true
    );

    injectLiveData();
  }

  /**
   * @summary
   *  üî• REACTIVITY
   * WARNING:
   * can go out of control
   * @description
   *  üìå Listens to changes in competition data.
   * WARNING:
   * triggered by changes in:
   * - `competitionMapDataChng` - **kicker**  (via deepListen)
   */
  $: if (livescoreNowScoreboardChng)
  {
    // ‚ñì‚ñì [üêû]
    dlog
    (
      `üöè checkpoint [R] ‚û§ livescoreNowScoreboardChng`,
      true
    );

    injectLivescoresData();
  }

  // #endregion ‚û§ üî• REACTIVIY [SVELTE]

  // #region ‚û§ üîÑ LIFECYCLE [SVELTE]

  // ‚ñì‚ñì ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
  // ‚ñì‚ñì NOTE:                                                           ‚ñì‚ñì
  // ‚ñì‚ñì Please add inside 'this' region the 'logic' that should run     ‚ñì‚ñì
  // ‚ñì‚ñì immediately and as part of the 'lifecycle' of svelteJs,         ‚ñì‚ñì
  // ‚ñì‚ñì as soon as 'this' .svelte file is ran.                          ‚ñì‚ñì
  // ‚ñì‚ñì ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì

  onMount
  (
    async() =>
    {
      // ‚ñì‚ñì IMPORTANT
      resizeAction();
      addEventListeners();

      determinePrediction();
      getParticipantData();
      countAnimation();
      mirrorValues();
    }
  );

  // #endregion ‚û§ üîÑ LIFECYCLE [SVELTE]

</script>

<!--
‚ñì‚ñì ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
‚ñì‚ñì COMPONENT HTML                                                                    ‚ñì‚ñì
‚ñì‚ñì NOTE:                                                                             ‚ñì‚ñì
‚ñì‚ñì use 'CTRL+SPACE' to autocomplete global class=styles                              ‚ñì‚ñì
‚ñì‚ñì NOTE:                                                                             ‚ñì‚ñì
‚ñì‚ñì access custom Betarena Scores VScode Snippets by typing emmet-like abbrev.        ‚ñì‚ñì
‚ñì‚ñì ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
-->

<div>

  <WidgetTitle
    WIDGET_TITLE={'Competition'}
  />

  <!--
  ‚ñì‚ñì Main widget
  -->
  <div
    id="{CNAME}‚Æïbox"
    class:dark-background-1={$userBetarenaSettings.theme == 'Dark'}
  >

    <!--
    ‚ñì‚ñì Main (top) competition data.
    -->
    <a
      href={`/${WIDGET_DATA?.competition?.urls?.[$sessionStore?.serverLang]}`}
    >
      <div
        id="{CNAME}‚Æïprofile"
        class:predict-to-win={WIDGET_DATA?.competition?.data?.target_team_prediction_term == 'win'}
        class:predict-to-lose={WIDGET_DATA?.competition?.data?.target_team_prediction_term == 'lose'}
        class:column-space-start={isViewMobile}
        class:row-space-out={!isViewTablet || (isViewTablet && !isViewMobile)}
        class:stauts-component-adjust={WIDGET_DATA?.competition?.data?.status != 'pending'}
      >

        <!--
        ‚ñì‚ñì Target competition target main info (1st box)
        -->
        <div
          id="competition-info"
          class=
          "
          row-space-out
          "
        >

          <!--
          ‚ñì‚ñì Main prelimnary competition data
          -->
          <div
            class=
            "
            row-space-start
            flex-start
            "
          >

            <!--
            ‚ñì‚ñì First column of competition Data
            -->
            <div
            >

              <!--
              ‚ñì‚ñì Team (term) and team image
              -->
              <div
                class=
                "
                row-space-start
                "
              >

                <h1
                  class=
                  "
                  w-500
                  color-grey-v2
                  grey-v1
                  m-r-5
                  m-0
                  capitalize
                  "
                  class:s-16={isViewTablet}
                  class:s-20={!isViewTablet}
                >
                  {B_SAP_D3_TEAM_M?.[$sessionStore?.serverLang]}
                </h1>

                <img
                  id=''
                  src={WIDGET_DATA?.team_logo}
                  alt='competition-team-logo'
                  title={WIDGET_DATA?.team_name}
                  loading='lazy'
                  width={isViewTablet ? 16 : 24}
                  height={isViewTablet ? 16 : 24}
                  class=
                  "
                  m-r-5
                  google-aspect-ratio
                  "
                />

              </div>

              <!--
              ‚ñì‚ñì Is-Going-To (term)
              -->
              <h1
                class=
                "
                color-grey-v2
                grey-v1
                w-500
                m-0
                no-wrap
                m-r-8
                "
                class:s-12={isViewTablet}
                class:s-16={!isViewTablet}
              >
                {WIDGET_T_DATA?.term_is_going_to_a ?? 'is going to'}
              </h1>

            </div>

            <!--
            ‚ñì‚ñì Second column of competition Data
            -->
            <div
            >

              <!--
              ‚ñì‚ñì Team name
              -->
              <h1
                class=
                "
                color-black-2
                w-500
                m-0
                "
                class:s-16={isViewTablet}
                class:s-20={!isViewTablet}
              >
                {WIDGET_DATA?.team_name ?? ''}
              </h1>

              <!--
              ‚ñì‚ñì Target competition type.
              -->
              <div
                class=
                "
                row-space-start
                "
              >

                <img
                  id=''
                  src={icon_prediction}
                  alt='prediction-icon'
                  title='CompetitionWin'
                  loading='lazy'
                  width={isViewTablet ? 16 : 20}
                  height={isViewTablet ? 16 : 20}
                  class=
                  "
                  m-r-5
                  "
                />

                <p
                  class=
                  "
                  w-500
                  dark-white-v3
                  "
                  class:s-12={isViewTablet}
                  class:s-16={!isViewTablet}
                  class:color-green={prediction_type == 'win'}
                  class:color-red-bright-v2={prediction_type == 'loose'}
                  class:color-grey={prediction_type == 'draw'}
                >
                  {#if prediction_type == 'win'}
                    {WIDGET_T_DATA?.prediction?.[1] ?? 'Win'}
                  {:else if prediction_type == 'loose'}
                    {WIDGET_T_DATA?.prediction?.[2] ?? 'Lose'}
                  {:else}
                    {WIDGET_T_DATA?.prediction?.x ?? 'Draw'}
                  {/if}
                </p>

              </div>

            </div>

          </div>

          <!--
          ‚ñì‚ñì üì± MOBILE
          -->
          {#if isViewMobile}

            <!--
            ‚ñì‚ñì Target competition probability
            -->
            <div
              class=
              "
              text-left
              "
            >

              <p
                class=
                "
                s-12
                no-wrap
                color-grey grey-v1
                "
              >
                {WIDGET_T_DATA?.title_prob ?? 'Probability'}
              </p>

              <div
                class=
                "
                row-space-start
                "
              >
                <p
                  class=
                  "
                  s-16
                  color-black-2
                  w-500
                  capitalize
                  m-r-6
                  "
                >
                  {toDecimalFix(mirrorProbability, 0)}%
                </p>

                <img
                  id=''
                  src={mirrorProbability > 50 ? icon_probability_green : icon_probability_red}
                  alt='probability_icon'
                  title='Probability'
                  loading='lazy'
                />
              </div>

            </div>

          {/if}

        </div>

        <!--
        ‚ñì‚ñì Target competition target main info (2nd box)
        -->
        <div
          id="stats"
          class=
          "
          text-right
          {isViewMobile ? 'row-space-start' : 'width-auto'}
          "
          class:row-space-end={!isViewMobile}
        >

          <!--
          ‚ñì‚ñì üíª TABLET + üñ•Ô∏è LAPTOP
          -->
          {#if !isViewMobile}

            <!--
            ‚ñì‚ñì COMPETITION ‚û§ PROBABILITY
            -->
            <div
              class=
              "
              text-left
              "
            >

              <p
                class=
                "
                s-12
                no-wrap
                color-grey grey-v1
                capitalize
                "
              >
                {WIDGET_T_DATA?.title_prob ?? 'Probability'}
              </p>

              <div
                class=
                "
                row-space-start
                "
              >
                <p
                  class=
                  "
                  s-16
                  color-black-2
                  w-500
                  capitalize
                  m-r-6
                  "
                >
                  {toDecimalFix(mirrorProbability, 0)}%
                </p>

                <img
                  id=''
                  src={mirrorProbability > 50 ? icon_probability_green : icon_probability_red}
                  alt='probability_icon'
                  title='Probability'
                  loading='lazy'
                />
              </div>

            </div>

          {/if}

          <!--
          ‚ñì‚ñì Target competition entry-fee.
          -->
          <div
            class=
            "
            text-left
            "
          >

            <p
              class=
              "
              s-12
              no-wrap
              color-grey grey-v1
              "
            >
              {WIDGET_T_DATA?.title_entry_fee ?? 'Entry Fee'}
            </p>

            <p
              class=
              "
              s-16
              color-black-2
              w-500
              capitalize
              no-wrap
              "
            >
              {WIDGET_DATA?.competition?.data?.entry_fee ?? ''} BTA
              <span
                class=
                "
                color-grey-v2
                grey-v1
                s-14
                "
              >
                (${WIDGET_DATA?.competition?.data?.entry_fee ?? ''})
              </span>
            </p>

          </div>

          <!--
          ‚ñì‚ñì Target competition total-prize.
          -->
          <div
            class=
            "
            text-left
            "
          >

            <p
              class=
              "
              s-12
              no-wrap
              color-grey grey-v1
              "
            >
              {WIDGET_T_DATA?.title_total_prize ?? 'Total prize'}
            </p>

            <p
              class=
              "
              s-16
              w-500
              color-black-2
              capitalize
              no-wrap
              "
            >

              {#if !counterTotalAnimated}
                {toDecimalFix((WIDGET_DATA?.competition?.data?.total_prize - WIDGET_DATA?.competition?.data?.betarena_commission), 2, true) ?? ''} BTA
              {:else}
                {toDecimalFix(counterTotalPrize, 2, true)} BTA
              {/if}

              <span
                class=
                "
                color-grey-v2
                grey-v1
                s-14
                "
              >
                {#if !counterTotalAnimated}
                  (${toDecimalFix((WIDGET_DATA?.competition?.data?.total_prize - WIDGET_DATA?.competition?.data?.betarena_commission), 2, true) ?? ''})
                {:else}
                  (${toDecimalFix(counterTotalPrize, 2, true)})
                {/if}
              </span>

            </p>

          </div>

        </div>

        <!--
        ‚ñì‚ñì Target competition countdown / status (component).
        -->
        {#if WIDGET_DATA?.competition?.data?.status != 'pending'}
          <div
            id="countdown-box"
            class=
            "
            width-fit-content
            "
          >
            <CompCountdownStatus
              {isViewMobile}
              {isViewTablet}
              forceView={false}
              B_COMP_HIGH_D={WIDGET_DATA}
              WIDGET_T_DATA={WIDGET_T_DATA}
              designView={'2'}
            />
          </div>
        {/if}

      </div>
    </a>

    <!--
    ‚ñì‚ñì Inner box of further competition data.
    -->
    <div
      id="{CNAME}‚Æïinner-box"
    >

      <!--
      ‚ñì‚ñì Pool prizes / sections.
      -->
      <div
        id="{CNAME}‚Æïjoin-box"
        class=
        "
        m-b-24
        "
      >

        <!--
        ‚ñì‚ñì YES VOTE
        -->
        <CompetitionPoolSelection
          {isViewMobile}
          {isViewTablet}
          competitionId={WIDGET_DATA?.competition?.id}
          competitionStatus={WIDGET_DATA?.competition?.data?.status}
          geoLocationRestrictions={WIDGET_DATA?.competition?.data?.blacklist}
          entryFee={WIDGET_DATA?.competition?.data?.entry_fee}
          totalPrize=
          {
            (
              WIDGET_DATA?.competition?.data?.participants?.no?.length > 0
              ? ((WIDGET_DATA?.competition?.data?.participants?.no?.length * WIDGET_DATA?.competition?.data?.entry_fee) - (WIDGET_DATA?.competition?.data?.betarena_commission))
              : 0
            ) ?? 0
          }
          winnerGroup={WIDGET_DATA?.competition?.data?.winner_group}
          viewType={'yes'}
          participantList={WIDGET_DATA?.competition?.data?.participants?.yes}
          {participantsMap}
        />

        <!--
        ‚ñì‚ñì NO VOTE
        -->
        <CompetitionPoolSelection
          {isViewMobile}
          {isViewTablet}
          competitionId={WIDGET_DATA?.competition?.id}
          competitionStatus={WIDGET_DATA?.competition?.data?.status}
          geoLocationRestrictions={WIDGET_DATA?.competition?.data?.blacklist}
          entryFee={WIDGET_DATA?.competition?.data?.entry_fee}
          totalPrize=
          {
            (
              WIDGET_DATA?.competition?.data?.participants?.yes?.length > 0
              ? ((WIDGET_DATA?.competition?.data?.participants?.yes?.length * WIDGET_DATA?.competition?.data?.entry_fee) - (WIDGET_DATA?.competition?.data?.betarena_commission))
              : 0
            ) ?? 0
          }
          winnerGroup={WIDGET_DATA?.competition?.data?.winner_group}
          viewType={'no'}
          participantList={WIDGET_DATA?.competition?.data?.participants?.no}
          {participantsMap}
        />

      </div>

      <!--
      ‚ñì‚ñì Competition footer.
      -->
      <div
        class=
        "
        row-space-out
        "
      >

        <!--
        ‚ñì‚ñì Competition type (format)
        -->
        <a
          href={`${langPrefix()}${B_SAP_D3_CP_M?.[$sessionStore?.serverLang]}`}
        >

          <div
            class=
            "
            width-auto
            "
            class:row-space-start={!isViewMobile}
          >

            <p
              class=
              "
              s-12
              color-grey
              "
              class:m-b-5={isViewMobile}
              class:m-r-12={!isViewMobile}
            >
              {WIDGET_T_DATA?.title_type ?? 'Type'}
            </p>

            <p
              class=
              "
              s-14
              color-black-2
              w-500
              "
            >
              <!-- {WIDGET_DATA?.competition?.data?.type_id} -->
              Single Predictor
            </p>

          </div>

        </a>

        <!--
        ‚ñì‚ñì Last 5 participants (preview) avatars.
        -->
        <div
          id="{CNAME}‚Æïparticipants"
          class=
          "
          width-auto
          {isViewMobile ? 'column-space-start flex-start' : ''}
          "
          class:row-space-start={!isViewMobile}
        >

          <!--
          ‚ñì‚ñì üíª TABLET ‚ñì‚ñì üñ•Ô∏è LAPTOP
          ‚ñì‚ñì Participant(s) title
          -->
          {#if !isViewMobile}
            <p
              class=
              "
              s-14
              color-black-2
              w-500
              no-wrap
              "
            >
              {participantNumber ?? 0}
              {WIDGET_T_DATA?.title_participants ?? translationObject?.participants}
            </p>
          {/if}

          {#if participantNumber > 0}

            <!-- {@const participantMerger = [ ...WIDGET_DATA?.competition?.data?.participants?.yes, ...WIDGET_DATA?.competition?.data?.participants?.no]} -->

            <div
              class=
              "
              width-auto
              row-space-start
              participant-list
              "
              class:m-b-5={isViewMobile}
              class:m-l-10={!isViewMobile}
            >

              {#each [ ...WIDGET_DATA?.competition?.data?.participants?.yes, ...WIDGET_DATA?.competition?.data?.participants?.no]?.slice(0, (isViewTablet ? 3 : 5)) ?? [] as uid}

                <img
                  class=
                  "
                  participant-main-img
                  "
                  src={participantsMap?.get(uid)?.profile_photo ?? icon_profile_avatar}
                  alt='participant_1'
                  title='Partitipant_1'
                  loading='lazy'
                  width={isViewMobile ? 18 : 24}
                  height={isViewMobile ? 18 : 24}
                />

              {/each}

            </div>

          {/if}

          <!--
          ‚ñì‚ñì üì± MOBILE
          ‚ñì‚ñì Participant(s) title
          -->
          {#if isViewMobile}
            <p
              class=
              "
              s-14
              color-black-2
              w-500
              no-wrap
              "
            >
              {[ ...WIDGET_DATA?.competition?.data?.participants?.yes, ...WIDGET_DATA?.competition?.data?.participants?.no]?.length ?? 0}
              {WIDGET_T_DATA?.title_participants ?? translationObject?.participants}
            </p>
          {/if}

        </div>

      </div>

    </div>

  </div>

</div>

<!--
‚ñì‚ñì ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
‚ñì‚ñì COMPONENT STYLE                                                                   ‚ñì‚ñì
‚ñì‚ñì NOTE:                                                                             ‚ñì‚ñì
‚ñì‚ñì auto-fill/auto-complete iniside <style> for var() values by typing/CTRL+SPACE     ‚ñì‚ñì
‚ñì‚ñì NOTE:                                                                             ‚ñì‚ñì
‚ñì‚ñì access custom Betarena Scores CSS VScode Snippets by typing 'style...'            ‚ñì‚ñì
‚ñì‚ñì ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
-->

<style>

  div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïbox
  {
    /* üé® style */
    border-radius: 12px;
    overflow: hidden;
    /* üõù layout */
    display: grid;
    grid-template-columns: 1fr;
  }

  div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïprofile
  {
    /* üìå position */
    position: relative;
    /* üé® style */
    min-height: 138px;
    border-radius: 8px 8px 0px 0px;
    background-color: var(--white);
		box-shadow: 0px 4px 16px 0px rgba(0, 0, 0, 0.08);
    padding: 20px;
    display: grid;
		grid-template-columns: 1fr 1fr;
    gap: 16px;
  }
  div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïprofile.stauts-component-adjust
  {
    /* üõù layout */
    grid-template-rows: auto auto auto;
  }
  div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïprofile.predict-to-win
  {
    /* üé® style */
    background: linear-gradient(297deg, var(--white) 32.98%, #B5E5B7 212.06%, #B5E5B7 212.06%);
  }
  div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïprofile.predict-to-lose
  {
    /* üé® style */
    background: linear-gradient(311deg, var(--white) 61.18%, #EFC3C3 161.11%);
  }
  div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïprofile div#competition-info
  {
    /* üìå position */
    grid-row: 1;
		grid-column: 1/3;
  }
  div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïprofile div#stats
  {
    /* üìå position */
    grid-row: 2;
		grid-column: 1/3;
    /* üõù layout */
    display: grid;
    gap: 32px;
    grid-auto-flow: column;
  }
  div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïprofile div#countdown-box
  {
    /* üìå position */
    grid-row: 3;
		grid-column: 1/3;
  }

  div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïinner-box
  {
    /* üé® style */
    padding: 20px 16px;
    background: var(--white);
  }

  div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïjoin-box
  {
    /* üõù layout */
    display: grid;
    grid-template-columns: 1fr;
    gap: 12px;
  }

  div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïparticipants img.participant-main-img
  {
    /* üé® style */
    margin-right: -9px;
    border-radius: 32px;
    border: 1px solid var(--whitev2);
  }
  div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïparticipants img.participant-main-img:last-child
  {
    /* üé® style */
    margin-right: 0;
  }

  /*
  ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
  ‚ñì‚ñì ‚ö°Ô∏è RESPONSIVNESS     ‚ñì‚ñì
  ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
  */

  @media only screen
  /* ‚ñì‚ñì NOTE: üíª TABLET */
  /* ‚ñì‚ñì NOTE: independent media query widget */
  and (min-width: 658px)
  {
    div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïprofile
    {
      /* üé® style */
      min-height: 88px;
    }
    div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïprofile.stauts-component-adjust
    {
      /* üõù layout */
      grid-template-rows: auto auto;
    }
    div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïprofile div#competition-info
    {
      /* üìå position */
      grid-row: 1;
      grid-column: 1/2;
    }
    div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïprofile div#stats
    {
      /* üìå position */
      grid-row: 1;
      grid-column: 2/4;
      /* üõù layout */
      display: grid;
      gap: 32px;
      grid-auto-flow: column;
    }
    div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïprofile div#countdown-box
    {
      /* üìå position */
      grid-row: 2;
      grid-column: 1/3;
    }

    div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïjoin-box
    {
      /* üõù layout */
      gap: 12px;
      grid-template-columns: 1fr 1fr;
    }
	}

	@media only screen
  /* ‚ñì‚ñì NOTE: üíª TABLET */
  /* ‚ñì‚ñì NOTE: independent media query widget */
  and (min-width: 768px)
  {
    /* NaN */
	}

	@media only screen
  /* ‚ñì‚ñì NOTE: üñ•Ô∏è LAPTOP */
  /* ‚ñì‚ñì NOTE: independent media query widget */
  and (min-width: 1200px)
  {
    /* NaN */
	}

	/*
  ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
  ‚ñì‚ñì üåí DARK-THEME       ‚ñì‚ñì
  ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
  */

  div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïbox.dark-background-1
  {
    /* üé® style */
    background-color: unset !important;
  }

  .dark-background-1 div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïprofile
  {
    /* üé® style */
    background-color: var(--dark-theme-1);
  }
  .dark-background-1 div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïprofile.predict-to-win
  {
    /* üé® style */
    background: linear-gradient(291deg, var(--dark-theme-1) 36.28%, #3F7B41 172.84%);
  }
  .dark-background-1 div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïprofile.predict-to-lose
  {
    /* üé® style */
    background: linear-gradient(297deg, var(--dark-theme-1) 33.23%, #9F4949 171.99%);
  }
  .dark-background-1 div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïinner-box
  {
    /* üé® style */
    background: var(--dark-theme-1-4-shade);
  }

  .dark-background-1 div#fixture‚Æïcompetition‚Æïw‚Æïmain‚Æïparticipants img.participant-main-img
  {
    /* üé® style */
    border: 1px solid var(--dark-theme-1-4-shade);
  }

</style>
