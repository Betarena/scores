<!--
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ðŸ“Œ High Order Component Overview                                                 â”‚
â”£â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”«
â”‚ âž¤ Internal Svelte Code Format :|: V.8.0                                          â”‚
â”‚ âž¤ Status :|: ðŸ”’ LOCKED                                                           â”‚
â”‚ âž¤ Author(s) :|: @migbash                                                         â”‚
â”£â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”«
â”‚ ðŸ“ Description                                                                   â”‚
â”£â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”«
â”‚ Scores Platform Header                                                           â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
-->

<!--
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ðŸŸ¦ Svelte Component JS/TS                                                        â”‚
â”£â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”«
â”‚ âž¤ HINT: â”‚ Access snippets for '<script> [..] </script>' those found in           â”‚
â”‚         â”‚ '.vscode/snippets.code-snippets' via intellisense using 'doc'          â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
-->

<script lang="ts">
  // #region âž¤ ðŸ“¦ Package Imports

  // â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
  // â”‚ NOTE:                                                                  â”‚
  // â”‚ Please add inside 'this' region the 'imports' that are required        â”‚
  // â”‚ by 'this' .svelte file is ran.                                         â”‚
  // â”‚ IMPORTANT                                                              â”‚
  // â”‚ Please, structure the imports as follows:                              â”‚
  // â”‚ 1. svelte/sveltekit imports                                            â”‚
  // â”‚ 2. project-internal files and logic                                    â”‚
  // â”‚ 3. component import(s)                                                 â”‚
  // â”‚ 4. assets import(s)                                                    â”‚
  // â”‚ 5. type(s) imports(s)                                                  â”‚
  // â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

  import { browser } from "$app/environment";
  import { goto } from "$app/navigation";
  import { page } from "$app/stores";
  import { onMount } from "svelte";
  import { fly } from "svelte/transition";

  import sessionStore from "$lib/store/session.js";
  import userBetarenaSettings from "$lib/store/user-settings.js";
  import { NB_W_TAG, dlog, dlogv2 } from "$lib/utils/debug";
  import { toDecimalFix } from "$lib/utils/string.js";
  import { viewportChangeV2 } from "$lib/utils/device";
  import { translationObject } from "$lib/utils/translation.js";
  import { logoutUser } from "$lib/utils/user";
  import { scoresNavbarStore } from "./_store.js";
  import {
    generateUrlCompetitions,
    spliceBalanceDoubleZero,
  } from "$lib/utils/string";

  import SeoBox from "$lib/components/SEO-Box.svelte";
  import TranslationText from "$lib/components/misc/Translation-Text.svelte";
  import { routeIdContent, routeIdPageTags } from "$lib/constants/paths.js";
  import HeaderCBookmakers from "./Header-C-Bookmakers.svelte";
  import HeaderCLang from "./Header-C-Lang.svelte";
  import HeaderCTheme from "./Header-C-Theme.svelte";
  import HeaderCompetitionBtn from "./Header-Competition-Btn.svelte";
  import HeaderNavBtn from "./Header-Nav-Btn.svelte";
  import HeaderSportsBtn from "./Header-Sports-Btn.svelte";

  import type { B_NAV_T } from "@betarena/scores-lib/types/navbar.js";
  import type { B_SAP_D3 } from "@betarena/scores-lib/types/seo-pages.js";
  import BuyBtaButton from "$lib/components/shared/BuyBta/Buy-BTA-Button.svelte";

  // #endregion âž¤ ðŸ“¦ Package Imports

  // #region âž¤ ðŸ“Œ VARIABLES

  // â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
  // â”‚ NOTE:                                                                  â”‚
  // â”‚ Please add inside 'this' region the 'variables' that are to be         â”‚
  // â”‚ and are expected to be used by 'this' .svelte file / component.        â”‚
  // â”‚ IMPORTANT                                                              â”‚
  // â”‚ Please, structure the imports as follows:                              â”‚
  // â”‚ 1. export const / let [..]                                             â”‚
  // â”‚ 2. const [..]                                                          â”‚
  // â”‚ 3. let [..]                                                            â”‚
  // â”‚ 4. $: [..]                                                             â”‚
  // â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

  /**
   * @description
   *  ðŸ“£ Component `Type`.
   */
  type IDynamicAssetMap =
    | "arrow_down_fade"
    | "arrow_down"
    | "arrow_up_fade"
    | "arrow_up"
    | "logo_full"
    | "logo_mini"
    | "close"
    | "menu_burger_bar"
    | "profile_avatar"
    | "logoAuthor"
    | "logoAuthorDark"
    | "iconArrowDownDark"
    | "iconArrowLeftDark"
    | "iconArrowLeftLight";

  /**
   * @description
   *  ðŸ“£ Component `Interface`.
   */
  interface INavBtnData {
    key: "scores" | "content" | "competitions";
    url: string | undefined;
    navTxt: string;
    isNew: boolean;
    newTxt: string;
  }

  const /**
     * @description
     *  ðŸ“£ `this` component **main** `id` and `data-testid` prefix.
     */
    CNAME = "global/w/navbar/main",
    /**
     * @description
     *  ðŸ“£ threshold start + state for ðŸ“± MOBILE
     */ // eslint-disable-next-line no-unused-vars
    VIEWPORT_MOBILE_INIT: [number, boolean] = [575, true],
    /**
     * @description
     *  ðŸ“£ threshold start + state for ðŸ’» TABLET
     */ // eslint-disable-next-line no-unused-vars
    VIEWPORT_TABLET_INIT: [number, boolean] = [1160, true],
    /**
     * @description
     *  ðŸ“£ Dynamic import variable condition
     */
    useDynamicImport: boolean = true;
  let /**
     * @description
     *  ðŸ“£ Holds target `component(s)` of dynamic nature.
     */
    dynamicAssetMap = new Map<IDynamicAssetMap, any>(),
    /**
     * @description
     *  ðŸ“£ Target `animation` width tracking variable.
     */
    width = 0,
    /**
     * @description
     *  ðŸ“£ Currently `selected sport`.
     */
    selectedSport = "football";
  $: ({
    error,
    route: { id: pageRouteId },
  } = $page);
  $: ({
    windowWidth,
    currentPageRouteId,
    serverLang,
    navBtnHover,
    globalState,
  } = $sessionStore);
  $: ({ lang, theme, user } = $userBetarenaSettings);
  $: ({
    web3_wallet_addr,
    profile_photo,
    main_balance,
    lang: userLang,
  } = { ...$userBetarenaSettings.user?.scores_user_data });
  $: ({ globalState: globalStateNavbar } = $scoresNavbarStore);

  $: [VIEWPORT_MOBILE_INIT[1], VIEWPORT_TABLET_INIT[1]] = viewportChangeV2(
    windowWidth,
    VIEWPORT_MOBILE_INIT[0],
    VIEWPORT_TABLET_INIT[0]
  );
  $: trsanslationData = $page.data.B_NAV_T as B_NAV_T | null | undefined;
  $: B_SAP_D3_CP_H = $page.data.B_SAP_D3_CP_H as B_SAP_D3 | null | undefined;

  $: homepageURL = serverLang != "en" ? `/${serverLang}` : "/";
  $: logoLink =
    serverLang != "en" ? `${$page.url.origin}/${serverLang}` : $page.url.origin;
  /**
   * @description
   *  ðŸ“£ Target navigation `button` data list.
   */
  $: navButtonOrderList = [
    // {
    //   key: "scores",
    //   url: `${serverLang != "en" ? `/${serverLang}` : ""}/scores`,
    //   navTxt:
    //     trsanslationData?.scores_header_translations?.section_links
    //       ?.scores_title ?? "SCORES",
    //   isNew: false,
    //   newTxt: "New",
    // },
    {
      key: "content",
      url: trsanslationData?.scores_header_translations?.section_links
        ?.sports_content_url,
      navTxt:
        trsanslationData?.scores_header_translations?.section_links
          ?.sports_content_title ?? "SPORTS CONTENT",
      isNew: false,
      newTxt: "New",
    },
    {
      key: "competitions",
      url: generateUrlCompetitions(
        $sessionStore.serverLang!,
        $page.data.B_SAP_D3_CP_H
      ),
      navTxt:
        trsanslationData?.scores_header_translations?.section_links
          ?.competitions_title ?? "COMPETITIONS",
      isNew: true,
      newTxt: "New",
    },
  ] as INavBtnData[];

  // #endregion âž¤ ðŸ“Œ VARIABLES

  // #region âž¤ ðŸ› ï¸ METHODS

  // â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
  // â”‚ NOTE:                                                                  â”‚
  // â”‚ Please add inside 'this' region the 'methods' that are to be           â”‚
  // â”‚ and are expected to be used by 'this' .svelte file / component.        â”‚
  // â”‚ IMPORTANT                                                              â”‚
  // â”‚ Please, structure the imports as follows:                              â”‚
  // â”‚ 1. function (..)                                                       â”‚
  // â”‚ 2. async function (..)                                                 â”‚
  // â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

  /**
   * @author
   *  @izobov
   * @summary
   *  [ðŸž]
   * @description
   *  ðŸ“£ Back ButtonClick
   * @return { void }
   */

  function backBtnClick(): void {
    if (globalState.has("IsPWA")) return window.history.back();
    const [preferedPage] = $userBetarenaSettings.user?.scores_user_data
      ?.buttons_order || ["scores"];
    let url: string;
    switch (preferedPage) {
      case "competitions":
        url = generateUrlCompetitions(
          $sessionStore.serverLang,
          $page.data.B_SAP_D3_CP_H
        );
        break;
      case "content":
        url =
          trsanslationData?.scores_header_translations?.section_links
            ?.sports_content_url;
        break;
      case "scores":
      default:
        url = homepageURL;
        break;
    }

    goto(url);
    return;
  }
  /**
   * @author
   *  @migbash
   * @summary
   *  [ðŸž]
   * @description
   *  ðŸ“£ Debug Helper
   * @param { string } reactDebug
   *  ðŸ’  Target log to display.
   * @return { void }
   */
  function _DEBUG_(
    reactDebug:
      | "Option0"
      | "Option1"
      | "Option2"
      | "Option3"
      | "Option4"
      | "Option5"
  ): void {
    const prefix: string = `ðŸš checkpoint [R] âž¤ ${NB_W_TAG[0]}`;
    // [ðŸž]
    if (reactDebug == "Option0")
      dlogv2(
        `${prefix} if_R_X`,
        [
          "ðŸ“ INFO: Authentication logic processing...",
          "â—ï¸ WARNING: Non re-occuring logic, (once per load), should not be seen again.",
        ],
        true
      );
    else if (reactDebug == "Option1")
      dlogv2(
        `${prefix} if_R_0`,
        [
          "ðŸ“ INFO: Non-authenticated user detected! Processing logic...",
          "â—ï¸ WARNING: Non re-occuring logic, (once per load), should not be seen again.",
        ],
        true
      );
    else if (reactDebug == "Option2")
      dlogv2(
        `${prefix} if_R_1`,
        [
          "ðŸ“ INFO: Authenticated user detected! Processing logic...",
          "â—ï¸ WARNING: Non re-occuring logic, (once per load), should not be seen again.",
        ],
        true
      );
    else if (reactDebug == "Option3") dlog(`${prefix} if_R_2`, true);
    else if (reactDebug == "Option4") dlog(`${prefix} if_R_3`, true);
    else dlog(`${prefix} if_R_5 ${lang}`, true);

    return;
  }

  /**
   * @author
   *  @migbash
   * @summary
   *  ðŸŸ¦ HELPER
   * @description
   *  ðŸ“£ Calcualte navigation triangle position.
   * @param { string } [mainActive]
   *  ðŸ’  [optional] Currently **active/selected** navigation.
   * @return { void }
   */
  function calcNavTrianglePos(mainActive?: string): void {
    const parentElem = document.getElementById("navBox"),
      childElem = document.getElementById(
        $sessionStore.navBtnHover || mainActive
      );
    if (parentElem == undefined || childElem == undefined) return;

    const parentPos: DOMRect = parentElem.getBoundingClientRect(),
      childPos: DOMRect = childElem.getBoundingClientRect(),
      relativePos = {
        top: childPos.top - parentPos.top,
        right: childPos.right - parentPos.right,
        bottom: childPos.bottom - parentPos.bottom,
        left: childPos.left - parentPos.left,
      };
    width = relativePos.left + childPos.width / 2 - 32 + 6;

    return;
  }

  // #endregion âž¤ ðŸ› ï¸ METHODS

  // #region âž¤ ðŸ”¥ REACTIVIY [SVELTE]

  // â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
  // â”‚ NOTE:                                                                  â”‚
  // â”‚ Please add inside 'this' region the 'logic' that should run            â”‚
  // â”‚ immediately and/or reactively for 'this' .svelte file is ran.          â”‚
  // â”‚ WARNING:                                                               â”‚
  // â”‚ â—ï¸ Can go out of control.                                              â”‚
  // â”‚ (a.k.a cause infinite loops and/or cause bottlenecks).                 â”‚
  // â”‚ Please keep very close attention to these methods and                  â”‚
  // â”‚ use them carefully.                                                    â”‚
  // â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

  // â•­â”€â”€â”€â”€â”€
  // â”‚ > ðŸ”¥ Navbar Z-Index Override
  // â”‚ NOTE:
  // â”‚ > [x0] Kicker(s)
  // â•°â”€â”€â”€â”€â”€
  $: if_R_4 =
    ($sessionStore.livescoreShowCalendar && VIEWPORT_MOBILE_INIT[1]) ||
    $sessionStore.showUserguide1 ||
    $sessionStore.currentActiveModal;
  $: if (if_R_4) $scoresNavbarStore.globalState.add("UpdateZIndex");
  else if (globalStateNavbar.has("UpdateZIndex"))
    setTimeout(() => {
      $scoresNavbarStore.globalState.delete("UpdateZIndex");
    }, 750);
  // â•­â”€â”€â”€â”€â”€
  // â”‚ > ðŸ”¥ Trigger Navigation Triangle Position Re-Calculation.
  // â”‚ IMPORTANT
  // â”‚ > [x3] Kicker(s)
  // â•°â”€â”€â”€â”€â”€
  $: if (browser && navBtnHover != undefined && serverLang) {
    _DEBUG_("Option5");
    calcNavTrianglePos();
  } else if (browser && navBtnHover == undefined && serverLang) {
    _DEBUG_("Option5");
    setTimeout(() => {
      if (currentPageRouteId == "CompetitionPage")
        calcNavTrianglePos("competitions");
      else calcNavTrianglePos("scores");
    }, 250);
  }

  // #endregion âž¤ ðŸ”¥ REACTIVIY [SVELTE]

  // #region âž¤ ðŸ”„ LIFECYCLE [SVELTE]

  // â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
  // â”‚ NOTE:                                                                  â”‚
  // â”‚ Please add inside 'this' region the 'logic' that should run            â”‚
  // â”‚ immediately and as part of the 'lifecycle' of svelteJs,                â”‚
  // â”‚ as soon as 'this' .svelte file is ran.                                 â”‚
  // â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

  onMount(async (): Promise<void> => {
    if (useDynamicImport) {
      dynamicAssetMap.set(
        "arrow_down_fade",
        (await import("./assets/arrow-down-fade.svg")).default
      );
      dynamicAssetMap.set(
        "arrow_down",
        (await import("./assets/arrow-down.svg")).default
      );
      dynamicAssetMap.set(
        "arrow_up_fade",
        (await import("./assets/arrow-up-fade.svg")).default
      );
      dynamicAssetMap.set(
        "arrow_up",
        (await import("./assets/arrow-up.svg")).default
      );
      dynamicAssetMap.set(
        "logo_full",
        (await import("./assets/betarena-logo-full.svg")).default
      );
      dynamicAssetMap.set(
        "logo_mini",
        (await import("./assets/betarena-logo-mobile.svg")).default
      );
      dynamicAssetMap.set(
        "logoAuthor",
        (await import("./assets/asset-betarena-logo-full.svg")).default
      );
      dynamicAssetMap.set(
        "logoAuthorDark",
        (await import("./assets/asset-betarena-logo-full-dark.svg")).default
      );
      dynamicAssetMap.set(
        "iconArrowLeftDark",
        (await import("./assets/icon-arrow-left-dark.svg")).default
      );
      dynamicAssetMap.set(
        "iconArrowLeftLight",
        (await import("./assets/icon-arrow-left-light.svg")).default
      );
      dynamicAssetMap.set(
        "close",
        (await import("./assets/close.svg")).default
      );
      dynamicAssetMap.set(
        "menu_burger_bar",
        (await import("./assets/menu-burger.svg")).default
      );
      dynamicAssetMap.set(
        "profile_avatar",
        (await import("./assets/profile-avatar.svg")).default
      );

      dynamicAssetMap = dynamicAssetMap;
    }

    return;
  });

  // #endregion âž¤ ðŸ”„ LIFECYCLE [SVELTE]
</script>

<!--
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ðŸ’  Svelte Component HTML                                                         â”‚
â”£â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”«
â”‚ âž¤ HINT: â”‚ Use 'Ctrl + Space' to autocomplete global class=styles, dynamically    â”‚
â”‚         â”‚ imported from './static/app.css'                                       â”‚
â”‚ âž¤ HINT: â”‚ access custom Betarena Scores VScode Snippets by typing emmet-like     â”‚
â”‚         â”‚ abbrev.                                                                â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
-->

<!--
â•­â”€â”€â”€â”€â”€
â”‚ > Navbar Close Dropdown Area
â•°â”€â”€â”€â”€â”€
-->
{#if globalStateNavbar.has("BackdropActive")}
  <div
    id="background-area-close"
    on:click={() => {
      scoresNavbarStore.closeAllDropdowns();
      return;
    }}
  />
{/if}

<SeoBox>
  <!--
  â•­â”€â”€â”€â”€â”€
  â”‚ > homepage links
  â•°â”€â”€â”€â”€â”€
  -->
  {#each trsanslationData?.langArray || [] as item}
    {#if item != "en"}
      <a href={$page.url.origin + "/" + item}>
        {$page.url.origin + "/" + item}
      </a>
    {:else}
      <a href={$page.url.origin}>
        {$page.url.origin}
      </a>
    {/if}
  {/each}

  <!--
  â•­â”€â”€â”€â”€â”€
  â”‚ > other urls
  â•°â”€â”€â”€â”€â”€
  -->
  <a
    href={trsanslationData?.scores_header_translations?.section_links
      ?.scores_url}
  >
    {trsanslationData?.scores_header_translations?.section_links?.scores_title}
  </a>
  <a
    href={trsanslationData?.scores_header_translations?.section_links
      ?.competitions_url}
  >
    {trsanslationData?.scores_header_translations?.section_links
      ?.competitions_title}
  </a>
  <a
    href={trsanslationData?.scores_header_translations?.section_links
      ?.sports_content_url}
  >
    {trsanslationData?.scores_header_translations?.section_links
      ?.sports_content_title}
  </a>
</SeoBox>

<!--
â•­â”€â”€â”€â”€â”€
â”‚ > Navbar Component
â•°â”€â”€â”€â”€â”€
-->
<header
  data-testid="header"
  class="
  column-space-center
  "
  class:update-z-index={globalStateNavbar.has("UpdateZIndex")}
  class:user-active={currentPageRouteId == "ProfilePage"}
  class:page-authors={currentPageRouteId == "AuthorsPage"}
  class:dark-mode={theme == "Dark"}
>
  <!--
  â•­â”€â”€â”€â”€â”€
  â”‚ > Close Dropdown Area
  â•°â”€â”€â”€â”€â”€
  -->
  {#if globalStateNavbar.has("BackdropActive")}
    <div
      id="background-area-close"
      on:click={() => {
        scoresNavbarStore.closeAllDropdowns();
        return;
      }}
    />
  {/if}

  <!--
  â•­â”€â”€â”€â”€â”€
  â”‚ > Top Navbar
  â•°â”€â”€â”€â”€â”€
  -->
  <div
    id="header/top"
    data-testid="header-top"
    class="
    row-space-out
    "
  >
    <!--
    â•­â”€â”€â”€â”€â”€
    â”‚ > 1st Column
    â•°â”€â”€â”€â”€â”€
    -->
    <div
      data-testid="header-top-1st-col"
      class="row-space-start"
      style="width: fit-content;"
    >
      <!--
      â•­â”€â”€â”€â”€â”€
      â”‚ > Menu Burger :|: ðŸ“± MOBILE ðŸ’» TABLET
      â•°â”€â”€â”€â”€â”€
      -->
      {#if VIEWPORT_TABLET_INIT[1] && currentPageRouteId != "AuthorsPage"}
        <img
          id="burger-menu"
          data-testid="header-burger-menu"
          loading="lazy"
          src={dynamicAssetMap.get("menu_burger_bar")}
          alt="menu_burger_bar"
          title="Open Side Navigation"
          width="24"
          height="24"
          on:click={() => {
            scoresNavbarStore.updateData(
              "globalStateAdd",
              "MobileNavToggleMenuActive"
            );
            return;
          }}
        />
      {/if}

      <!--
      â•­â”€â”€â”€â”€â”€
      â”‚ > Brand Logo :|: ðŸ“± MOBILE ðŸ’» TABLET ðŸ–¥ï¸ LAPTOP
      â•°â”€â”€â”€â”€â”€
      -->
      {#if VIEWPORT_MOBILE_INIT[1] && currentPageRouteId == "AuthorsPage"}
        <div id="authorsBackBtn" on:click={backBtnClick}>
          <img
            id=""
            src={theme == "Dark"
              ? dynamicAssetMap.get("iconArrowLeftDark")
              : dynamicAssetMap.get("iconArrowLeftLight")}
            alt="authorsBackBtn"
            title="authorsBackBtn"
            loading="lazy"
          />
        </div>
      {:else}
        <div
          id="brand"
          data-testid="header-brand-img"
          aria-label="brand-img"
          class="
          cursor-pointer
          "
          on:click={() => {
            if ($page.url.pathname == "/") window.location.reload();
            return;
          }}
        >
          <a href={homepageURL} title={logoLink}>
            <img
              loading="lazy"
              src={currentPageRouteId != "AuthorsPage"
                ? VIEWPORT_MOBILE_INIT[1]
                  ? dynamicAssetMap.get("logo_mini")
                  : dynamicAssetMap.get("logo_full")
                : theme == "Dark"
                ? dynamicAssetMap.get("logoAuthorDark")
                : dynamicAssetMap.get("logoAuthor")}
              alt="betarena_logo"
              width={VIEWPORT_MOBILE_INIT[1] ? 103 : 142}
              height="30"
              class:m-r-40={!VIEWPORT_MOBILE_INIT[1]}
            />
          </a>
        </div>
      {/if}

      <!--
      â•­â”€â”€â”€â”€â”€
      â”‚ > External Button / Navigation :|: ðŸ“± MOBILE ðŸ’» TABLET
      â•°â”€â”€â”€â”€â”€
      -->
      {#if !VIEWPORT_TABLET_INIT[1] && currentPageRouteId != "AuthorsPage"}
        <div
          id="navBox"
          class="
          row-space-start
          "
        >
          <!--
          â•­â”€â”€â”€â”€â”€
          â”‚ > Target Platform Navigation(s)
          â•°â”€â”€â”€â”€â”€
          -->
          {#each navButtonOrderList as item}
            <HeaderNavBtn
              navKey={item.key}
              navUrl={item.url}
              navTxt={item.navTxt}
              isNew={item.isNew}
              newTxt={item.newTxt}
              {VIEWPORT_TABLET_INIT}
              {VIEWPORT_MOBILE_INIT}
            />
          {/each}

          <!--
          â•­â”€â”€â”€â”€â”€
          â”‚ > Navigation Triangle
          â•°â”€â”€â”€â”€â”€
          -->
          {#if currentPageRouteId != "ProfilePage"}
            <div
              id="nav-triangle"
              style="
              left: {width}px;
              "
            />
          {/if}
        </div>
      {/if}
    </div>

    <!--
    â•­â”€â”€â”€â”€â”€
    â”‚ > 2nd Column
    â•°â”€â”€â”€â”€â”€
    -->
    <div
      data-testid="header-top-2nd-col"
      class="
      row-space-start
      "
      style="
      width: fit-content;
      "
    >
      <!--
      â•­â”€â”€â”€â”€â”€
      â”‚ > ðŸ–¥ï¸ LAPTOP
      â•°â”€â”€â”€â”€â”€
      -->
      {#if !VIEWPORT_TABLET_INIT[1]}
        <!--
        â•­â”€â”€â”€â”€â”€
        â”‚ > Currency Selection
        â•°â”€â”€â”€â”€â”€
        -->
        {#if currentPageRouteId != "AuthorsPage"}
          <div
            id="currency-box"
            class="
            m-r-16
            "
          >
            <!--
            â•­â”€â”€â”€â”€â”€
            â”‚ > Selected Currency
            â•°â”€â”€â”€â”€â”€
            -->
            <div
              class="
              selected-language-btn
              row-space-start
              "
            >
              <!--
              â•­â”€â”€â”€â”€â”€
              â”‚ > Currency Icon
              â•°â”€â”€â”€â”€â”€
              -->
              <img
                loading="lazy"
                src="/assets/svg/currency/usd.svg"
                alt="usd-icon"
                width="16"
                height="16"
                class="
                m-r-6
                "
              />
              <!--
              â•­â”€â”€â”€â”€â”€
              â”‚ > Currency Text
              â•°â”€â”€â”€â”€â”€
              -->
              <p
                class="
                color-white
                s-14
                "
              >
                USD
              </p>
              <!--
              â•­â”€â”€â”€â”€â”€
              â”‚ > Arrow Down [HIDDEN]
              â•°â”€â”€â”€â”€â”€
              -->
              {#if false}
                <img
                  loading="lazy"
                  src={!widgetState.has("CurrencyDropdownActive")
                    ? dynamicAssetMap.get("arrow_down")
                    : dynamicAssetMap.get("arrow_up")}
                  alt={!widgetState.has("CurrencyDropdownActive")
                    ? "arrow_down"
                    : "arrow_up"}
                  width="16"
                  height="16"
                />
              {/if}
            </div>
          </div>
        {/if}

        <!--
        â•­â”€â”€â”€â”€â”€
        â”‚ > [child.component] Language Selection
        â•°â”€â”€â”€â”€â”€
        -->
        <HeaderCLang />
      {/if}

      <!--
      â•­â”€â”€â”€â”€â”€
      â”‚ > [child.component] Theme Selection
      â•°â”€â”€â”€â”€â”€
      -->
      {#if !VIEWPORT_MOBILE_INIT[1]}
        <HeaderCTheme />
      {/if}

      <!--
      â•­â”€â”€â”€â”€â”€
      â”‚ > Sign-In (button)
      â•°â”€â”€â”€â”€â”€
      -->
      {#if globalState.has("NotAuthenticated")}
        <button
          id="{CNAME}/sign-in-btn"
          data-testid="{CNAME}/sign-in-btn"
          class="
          btn-hollow
            v6
          cursor-pointer
          "
          class:v5d={currentPageRouteId == "AuthorsPage"}
          on:click={() => {
            $sessionStore.currentActiveModal = "Auth_Modal";
            return;
          }}
        >
          <p
            class="
            color-white
            s-14
            "
          >
            <TranslationText
              key={"header-txt-unkown"}
              text={trsanslationData?.scores_header_translations?.sign_in}
              fallback={translationObject.sign_in}
            />
          </p>
        </button>
      {:else}
        <div
          id="user-profile-box"
          class="
          row-space-start
          "
        >
          <!--
          â•­â”€â”€â”€â”€â”€
          â”‚ > User Wallet
          â•°â”€â”€â”€â”€â”€
          -->
          {#if web3_wallet_addr != undefined}
            <p
              id="wallet-text"
              class="
              {currentPageRouteId == 'AuthorsPage'
                ? theme == 'Dark'
                  ? 'color-white'
                  : 'color-black-2'
                : 'color-white'}
              w-500
              "
            >
              {web3_wallet_addr.slice(0, 5)}
              ...
              {web3_wallet_addr.slice(-5)}
            </p>
          {/if}

          <!--
          â•­â”€â”€â”€â”€â”€
          â”‚ > User Avatar
          â•°â”€â”€â”€â”€â”€
          -->
          {#if !VIEWPORT_MOBILE_INIT[1] || ![routeIdPageTags, routeIdContent].includes(pageRouteId || "")}
            <img
              id="user-profile-picture"
              data-testid="{CNAME}/user-avatar"
              loading="lazy"
              src={profile_photo ?? dynamicAssetMap.get("profile_avatar")}
              alt="profile_avatar"
              title="Profile Picture"
              on:click={() => {
                scoresNavbarStore.updateData(
                  "globalStateAdd",
                  "UserDropdownActive"
                );
                return;
              }}
              class="
            cursor-pointer
            "
              width="44"
              height="44"
            />
          {/if}

          <!--
          â•­â”€â”€â”€â”€â”€
          â”‚ > Profile Dropdown
          â•°â”€â”€â”€â”€â”€
          -->
          {#if globalStateNavbar.has("UserDropdownActive")}
            <div id="user-profile-dropdown">
              <!--
              â•­â”€â”€â”€â”€â”€
              â”‚ > Profile Navigation Button
              â•°â”€â”€â”€â”€â”€
              -->
              <a href="/u/dashboard/{$userBetarenaSettings.lang}">
                <div
                  class="
                  theme-opt-box
                  cursor-pointer
                  "
                  style="width: 100%;"
                  on:click={() => {
                    scoresNavbarStore.closeAllDropdowns();
                    return;
                  }}
                >
                  <p
                    class="
                    color-white
                    s-14
                    "
                  >
                    <TranslationText
                      key={"header-txt-unkown"}
                      text={trsanslationData?.scores_header_translations?.data
                        ?.profile}
                      fallback={"Profile"}
                    />
                  </p>
                </div>
              </a>

              <!--
              â•­â”€â”€â”€â”€â”€
              â”‚ > Profile Logout
              â•°â”€â”€â”€â”€â”€
              -->
              <div
                class="
                theme-opt-box
                cursor-pointer
                "
                on:click={() => {
                  logoutUser();
                  return;
                }}
              >
                <p
                  class="
                  color-white
                  s-14
                  "
                >
                  <TranslationText
                    key={"header-txt-unkown"}
                    text={trsanslationData?.scores_header_translations?.data
                      ?.logout}
                    fallback={"Logout"}
                  />
                </p>
              </div>
            </div>
          {/if}
        </div>
      {/if}
    </div>
  </div>

  <!--
  â•­â”€â”€â”€â”€â”€
  â”‚ > Divider
  â•°â”€â”€â”€â”€â”€
  -->
  {#if currentPageRouteId != "AuthorsPage"}
    <div id="header/border/top-box" />
    <div id="header/border/bottom-box" />
  {/if}

  <!--
  â•­â”€â”€â”€â”€â”€
  â”‚ > Bottom Navbar
  â•°â”€â”€â”€â”€â”€
  -->
  {#if currentPageRouteId != "AuthorsPage"}
    <div
      id="header/bottom"
      class="
      row-space-out
      "
    >
      <!--
      â•­â”€â”€â”€â”€â”€
      â”‚ > 1st Column
      â•°â”€â”€â”€â”€â”€
      -->
      <div
        class="
        row-space-out
        "
      >
        {#if currentPageRouteId == "Standard"}
          <!--
          â•­â”€â”€â”€â”€â”€
          â”‚ > Sports Horizontal List (scores only)
          â”‚ > Competition Horizontal List (competition only)
          â•°â”€â”€â”€â”€â”€
          -->
          <div
            id="header/bottom/inner"
            class="
            row-space-out
            m-r-10
            "
            style="width: fit-content;"
          >
            <div
              class="
              row-space-out
              "
              style="width: fit-content;"
            >
              <!--
              â•­â”€â”€â”€â”€â”€
              â”‚ > Football
              â•°â”€â”€â”€â”€â”€
              -->
              {#if currentPageRouteId != "CompetitionPage"}
                <HeaderSportsBtn
                  sportNameDefault={"football"}
                  sportTranslation={trsanslationData?.scores_header_translations
                    ?.sports_v2?.football}
                  sportValue={trsanslationData
                    ?.scores_header_fixtures_information?.football}
                  {selectedSport}
                  on:closeDropdown={(event) => {
                    return (selectedSport = event.detail?.selectedSport);
                  }}
                />
              {/if}

              <!--
              â•­â”€â”€â”€â”€â”€
              â”‚ > Predictor
              â•°â”€â”€â”€â”€â”€
              -->
              {#if currentPageRouteId == "CompetitionPage"}
                <HeaderCompetitionBtn
                  competitionNameDefault={"predictor"}
                  competitionTranslation={trsanslationData
                    ?.competitions_category?.data?.predictor}
                  navUrl={generateUrlCompetitions(
                    $sessionStore.serverLang,
                    $page.data.B_SAP_D3_CP_H
                  )}
                />
              {/if}
            </div>
          </div>
        {/if}
      </div>

      <!--
      â•­â”€â”€â”€â”€â”€
      â”‚ > 2nd Column (scores only)
      â•°â”€â”€â”€â”€â”€
      -->
      <div
        class="
        row-space-start
        "
        style="width: fit-content;"
      >
        <!--
        ðŸ’» TABLET ðŸ–¥ï¸ LAPTOP
        -->
        {#if !VIEWPORT_MOBILE_INIT[1] && currentPageRouteId == "Standard"}
          <!--
          â•­â”€â”€â”€â”€â”€
          â”‚ > Bookmakers Container
          â•°â”€â”€â”€â”€â”€
          -->
          <HeaderCBookmakers {VIEWPORT_TABLET_INIT} {VIEWPORT_MOBILE_INIT} />
        {/if}

        <!--
        â•­â”€â”€â”€â”€â”€
        â”‚ > Betarena Token
        â•°â”€â”€â”€â”€â”€
        -->
        {#if user != undefined}
          <a
            href="/u/transaction-history/{$userBetarenaSettings.lang}"
            title="View Transactions History"
          >
            <div
              id="balance-box"
              class="
              dropdown-opt-box
              row-space-start
              "
            >
              <div>
                <!--
                ðŸ“± MOBILE
                Balance Title
                -->
                {#if !VIEWPORT_MOBILE_INIT[1]}
                  <p
                    class="
                    color-grey
                    s-12
                    no-wrap
                    "
                  >
                    {trsanslationData?.scores_header_translations?.data
                      ?.balance ?? translationObject.balance}
                  </p>
                {/if}

                <p
                  class="
                  color-white
                  s-14
                  no-wrap
                  "
                >
                  <span
                    class="
                    color-primary
                    w-500
                    m-r-5
                    "
                  >
                    {spliceBalanceDoubleZero(toDecimalFix(main_balance)) ??
                      "0.00"} BTA
                  </span>
                  {#if VIEWPORT_MOBILE_INIT[1]}
                    <br />
                  {/if}
                  (${spliceBalanceDoubleZero(toDecimalFix(main_balance)) ??
                    "0.00"})
                </p>
              </div>
            </div>
          </a>

          <!--
          â•­â”€â”€â”€â”€â”€
          â”‚ > But Betarena Token (navigation)
          â•°â”€â”€â”€â”€â”€
          -->
          {#if true}
            <div
              class:m-l-50={!VIEWPORT_MOBILE_INIT[1]}
              class:m-l-20={VIEWPORT_MOBILE_INIT[1]}
            >
              <BuyBtaButton popup={true} />
            </div>
          {/if}
        {/if}
      </div>
    </div>
  {/if}

  <!--
  â•­â”€â”€â”€â”€â”€
  â”‚ > Navbar Slide :|: ðŸ“± MOBILE + ðŸ’» TABLET
  â•°â”€â”€â”€â”€â”€
  -->
  {#if (VIEWPORT_TABLET_INIT[1] || VIEWPORT_MOBILE_INIT[1]) && globalStateNavbar.has("MobileNavToggleMenuActive")}
    <nav
      data-testid="header-side-menu"
      class:tablet-exclusive={!VIEWPORT_MOBILE_INIT[1]}
      in:fly={{ x: -200, duration: 500 }}
      out:fly={{ x: -200, duration: 500 }}
    >
      <!--
      â•­â”€â”€â”€â”€â”€
      â”‚ > Header (INNER) close dropdown area
      â•°â”€â”€â”€â”€â”€
      -->
      {#if globalStateNavbar.has("UserDropdownActive")}
        <div
          id="background-area-close"
          on:click={() => {
            scoresNavbarStore.closeAllDropdowns();
            return;
          }}
        />
      {/if}

      <div>
        <!--
        â•­â”€â”€â”€â”€â”€
        â”‚ > Top Row
        â•°â”€â”€â”€â”€â”€
        -->
        <div
          class="
          row-space-out
          "
        >
          <!--
          â•­â”€â”€â”€â”€â”€
          â”‚ > Close icon
          â•°â”€â”€â”€â”€â”€
          -->
          <img
            data-testid="header-side-menu-close"
            loading="lazy"
            src={dynamicAssetMap.get("close")}
            alt="close-icon"
            width="24"
            height="24"
            on:click={() => {
              scoresNavbarStore.closeAllDropdowns();
              return;
            }}
          />

          <!--
          â•­â”€â”€â”€â”€â”€
          â”‚ > Main Platform Options
          â”‚ > TODO: add the currency, lang, theme box-options as component [?]
          â•°â”€â”€â”€â”€â”€
          -->
          <div
            class="
            row-space-end
            width-auto
            "
          >
            <!--
            â•­â”€â”€â”€â”€â”€
            â”‚ > Currency selection (hidden)
            â•°â”€â”€â”€â”€â”€
            -->
            <div
              id="currency-box"
              class="
              m-r-16
              "
            >
              <!--
              â•­â”€â”€â”€â”€â”€
              â”‚ > Selected Currency
              â•°â”€â”€â”€â”€â”€
              -->
              <div
                class="
                selected-language-btn
                row-space-start
                "
                class:active-lang-select={globalStateNavbar.has(
                  "CurrencyDropdownActive"
                )}
              >
                <!--
                â•­â”€â”€â”€â”€â”€
                â”‚ > Currency Icon
                â•°â”€â”€â”€â”€â”€
                -->
                <img
                  loading="lazy"
                  src="/assets/svg/currency/usd.svg"
                  alt="usd-icon"
                  width="16"
                  height="16"
                  class="
                  m-r-6
                  "
                />

                <!--
                â•­â”€â”€â”€â”€â”€
                â”‚ > Currency text (hidden)
                â•°â”€â”€â”€â”€â”€
                -->
                <p
                  class="
                  color-white
                  s-14
                  "
                >
                  USD
                </p>

                <!--
                â•­â”€â”€â”€â”€â”€
                â”‚ > Arrow down (hidden)
                â•°â”€â”€â”€â”€â”€
                -->
                {#if false}
                  <img
                    loading="lazy"
                    src={!widgetState.has("CurrencyDropdownActive")
                      ? dynamicAssetMap.get("arrow_down")
                      : dynamicAssetMap.get("arrow_up")}
                    alt={!widgetState.has("CurrencyDropdownActive")
                      ? "arrow_down"
                      : "arrow_up"}
                    width="16"
                    height="16"
                  />
                {/if}
              </div>
            </div>

            <!--
            â•­â”€â”€â”€â”€â”€
            â”‚ > Language Selection
            â•°â”€â”€â”€â”€â”€
            -->
            <HeaderCLang />

            <!--
            â•­â”€â”€â”€â”€â”€
            â”‚ > Theme Selection
            â•°â”€â”€â”€â”€â”€
            -->
            {#if VIEWPORT_MOBILE_INIT[1]}
              <HeaderCTheme />
            {/if}
          </div>
        </div>

        <!--
        â•­â”€â”€â”€â”€â”€
        â”‚ > Menu Options Box
        â•°â”€â”€â”€â”€â”€
        -->
        <div
          class="
          column-start-grid-start
          "
          class:m-t-25={VIEWPORT_TABLET_INIT[1]}
          class:m-t-45={VIEWPORT_MOBILE_INIT[1]}
        >
          <!--
          â•­â”€â”€â”€â”€â”€
          â”‚ > Target Platform Navigation(s)
          â•°â”€â”€â”€â”€â”€
          -->
          {#each navButtonOrderList as item}
            <HeaderNavBtn
              navKey={item.key}
              navUrl={item.url}
              navTxt={item.navTxt}
              isNew={item.isNew}
              newTxt={item.newTxt}
              {VIEWPORT_TABLET_INIT}
              {VIEWPORT_MOBILE_INIT}
            />
          {/each}

          {#if VIEWPORT_MOBILE_INIT[1] && !currentPageRouteId}
            <!--
            â•­â”€â”€â”€â”€â”€
            â”‚ > Bookmakers Section
            â•°â”€â”€â”€â”€â”€
            -->
            <HeaderCBookmakers {VIEWPORT_TABLET_INIT} {VIEWPORT_MOBILE_INIT} />
          {/if}
        </div>
      </div>
    </nav>
  {/if}
</header>

<!--
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ðŸŒŠ Svelte Component CSS/SCSS                                                     â”‚
â”£â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”«
â”‚ âž¤ HINT: â”‚ auto-fill/auto-complete iniside <style> for var()                      â”‚
â”‚         â”‚ values by typing/CTRL+SPACE                                            â”‚
â”‚ âž¤ HINT: â”‚ access custom Betarena Scores CSS VScode Snippets by typing 'style...' â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
-->

<style lang="scss">
  /*
  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
  â”‚ ðŸ“² MOBILE-FIRST                                                              â”‚
  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
  */

  #background-area-close {
    /* ðŸ“Œ position */
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0;
    left: 0;
    /* ðŸŽ¨ style */
    height: 100%;
    width: 100%;
    z-index: 1000;
  }

  header {
    /* ðŸ“Œ position */
    z-index: 1000;
    position: relative;
    /* ðŸŽ¨ style */
    background-color: var(--dark-theme);
    height: 128px;

    &.page-authors {
      /* ðŸŽ¨ style */
      height: unset;
      background-color: unset;
    }

    &.update-z-index {
      z-index: unset;
    }

    @mixin headerBox {
      /* ðŸ“Œ position */
      position: absolute;
      position: relative;
      /* ðŸŽ¨ style */
      max-width: 1430px;
      width: inherit;
    }

    div#header\/top {
      /* ðŸ“Œ position */
      top: 0;
      /* ðŸŽ¨ style */
      padding: 23px 16px;
      height: 64px !important;
      @include headerBox;

      #burger-menu {
        margin-right: 16.15px;
      }

      div#authorsBackBtn {
        /* ðŸŽ¨ style */
        border-radius: 50%;
        background-color: #e6e6e6cc;
        width: 32px;
        height: 32px;
        position: relative;

        img {
          /* ðŸ“Œ position */
          position: absolute;
          margin: auto;
          top: 0;
          bottom: 0;
          right: 0;
          left: 0;
        }
      }

      div#navBox {
        /* ðŸŽ¨ style */
        position: relative;

        div#nav-triangle {
          /* ðŸ“Œ position */
          position: absolute;
          bottom: -21px;
          /* ðŸŽ¨ style */
          width: 0;
          height: 0;
          border-left: 12px solid transparent;
          border-right: 12px solid transparent;
          border-bottom: 12px solid var(--dark-theme-1);
          transition: all 0.25s ease-out;
        }
      }

      div#user-profile-box {
        /* ðŸ“Œ position */
        position: relative;
        /* ðŸŽ¨ style */
        width: auto;

        div#user-profile-dropdown {
          /* ðŸ“Œ position */
          position: absolute;
          top: 100%;
          right: 0;
          left: unset;
          z-index: 2000;
          /* ðŸŽ¨ style */
          margin-top: 5px;
          background: #292929;
          box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.08);
          border-radius: 4px;
          overflow: hidden;
          width: 168px;

          div.theme-opt-box {
            padding: 9.5px 16px;
            box-shadow: inset 0px -1px 0px #3c3c3c;
            background: #4b4b4b;
            height: 40px;

            &:hover {
              /* ðŸŽ¨ style */
              background: var(--dark-theme);
              box-shadow: inset 0px -1px 0px #3c3c3c;
            }
          }
        }

        img#user-profile-picture {
          /* ðŸŽ¨ style */
          border-radius: 50%;
        }

        p#wallet-text {
          margin-right: 14px;
        }
      }
    }

    div#header\/bottom {
      /* ðŸ“Œ position */
      bottom: 0;
      /* ðŸŽ¨ style */
      padding: 10px 16px;
      height: 64px !important;
      @include headerBox;

      div#header\/bottom\/inner {
        /* ðŸŽ¨ style */
        overflow-x: scroll;
        overflow-y: hidden;
        -ms-overflow-style: none;
        scrollbar-width: none;

        &::-webkit-scrollbar {
          /* ðŸŽ¨ style */
          display: none;
        }
      }

      div#balance-box {
        /* ðŸŽ¨ style */
        padding-right: 0;
        border-left: 1px solid #4b4b4b;
        height: 44px;
        padding: 0 16px;
        width: fit-content;
        cursor: pointer;
      }
    }

    @mixin headerDivider {
      /* ðŸ“Œ position */
      position: absolute;
      /* ðŸŽ¨ style */
      width: 100%;
      border: 0.5px solid var(--dark-theme-1);
    }

    div#header\/border\/top-box {
      /* ðŸ“Œ position */
      bottom: 64px;
      @include headerDivider;
    }

    div#header\/border\/bottom-box {
      /* ðŸ“Œ position */
      bottom: 0;
      @include headerDivider;
    }

    nav {
      /* ðŸ“Œ position */
      position: absolute;
      z-index: 1000000000;
      top: 0;
      bottom: 0;
      right: 0;
      left: 0;
      /* ðŸŽ¨ style */
      background-color: #292929;
      height: 100vh;
      width: 100%;
      padding: 14px 16px;
      overflow-y: scroll;
      -ms-overflow-style: none;
      scrollbar-width: none;

      &::-webkit-scrollbar {
        /* ðŸŽ¨ style */
        display: none;
      }

      &.tablet-exclusive {
        /* ðŸŽ¨ style */
        padding: 24px 34px;
        max-width: 374px !important;
      }
    }
  }

  /*
  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
  â”‚ âš¡ï¸ RESPONSIVNESS                                                              â”‚
  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
  */

  @media screen and (max-width: 560px) {
    :root {
      --header-is-mobile: true;
    }
  }

  @media screen and (min-width: 768px) {
    header {
      div#header\/top {
        /* ðŸŽ¨ style */
        padding: 23px 34px;

        #burger-menu {
          /* ðŸŽ¨ style */
          margin-right: 24px;
        }
      }

      div#header\/bottom {
        /* ðŸŽ¨ style */
        padding: 6px 34px;
      }
    }
  }

  @media screen and (min-width: 1024px) {
  }

  /*
  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
  â”‚ ðŸŒ’ DARK-THEME                                                                â”‚
  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
  */

  header.dark-mode {
    div#header\/top {
      div#authorsBackBtn {
        /* ðŸŽ¨ style */
        background-color: #4b4b4bcc;
      }
    }
  }
</style>
