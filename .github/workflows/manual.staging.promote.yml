# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚ ğŸ™ GITHUB ACIONS CI/CD WORKFLOW                                  â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

name: 'âš¡ï¸ // promote branch to staging environment'

on:
  # â•­â”€â”€â”€â”€â”€
  # â”‚ NOTE:
  # â”‚ |: Manual trigger from GitHub UI
  # â•°â”€â”€â”€â”€â”€
  workflow_dispatch:
    inputs:
      branch:
        description: 'Select TARGET branch to PROMOTE to staging'
        required: true
        type: string
#

jobs:
  promote-branch-to-staging-environment:
    name: 'â›½ï¸ JOB /:/ promote branch to staging environment'
    runs-on: ubuntu-22.04
    steps:
      - uses: actions/checkout@v3
        with:
          ref: ${{ github.event.inputs.branch }}
          fetch-depth: 0
      - name: 'STEP /:/ config git'
        run: |
          git config --local user.name "${{ github.event.sender.login }}"
          git config --local user.email "${{ github.event.sender.login }}@users.noreply.github.com"
          git config --local push.default current
          git config --local pull.rebase false
      - name: 'STEP /:/ push branch to staging environment'
        run: |
          # [ğŸ]
          git status
          git branch --show-current
          git push origin --force ${{ github.event.inputs.branch }}:ci/deploy/staging
  #
#